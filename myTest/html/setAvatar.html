<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>设置头像</title>
    <link rel="stylesheet" type="text/css" href="../css/style.css">
    <script type="text/javascript" src="../js/boia.js"></script>
    <style type="text/css">
        .set-avatar-box {width: 550px;height: 435px;}
        
        .header .title {font-size: 14px;font-weight: normal;}
        .body .head {padding: 10px;}
        .footer .btns {float: right;}
        .tab {display: inline-block;border: 1px solid #AEC2CD;height: 30px;width: 90px;text-align: center;line-height: 30px;font-size: 14px;border-top-radius: 5px;border-top-left-radius: 5px;border-top-right-radius: 5px;border-bottom: 0;}
        .separat {border-bottom: 1px solid #ccc;width: 80%;margin-left: 90px;}
        .footer {padding: 10px;}
    </style>
</head>
<body class="isDrag">
    <div class="container set-avatar-box isDrag">
        <div class="header header-style isDrag">
            <h1 class="title isDrag">设置</h1>
            <div class="tool">
                <div class="tool-min"></div>
                <div class="tool-close"></div>
            </div>
        </div>
        <div class="body">
            <div class="head">
                <div class="title tab">系统头像</div>
                <div class="separat"></div>
            </div>
            <div class="avatarList">
                <div class="thumb-wrap">
                    <div class="thumb" data-index="2" >
                        <img class="thumb-img" data-index="2" src="../images/small/2-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="3" >
                        <img class="thumb-img" data-index="3" src="../images/small/3-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="4" >
                        <img class="thumb-img" data-index="4" src="../images/small/4-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="5" >
                        <img class="thumb-img" data-index="5" src="../images/small/5-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="6" >
                        <img class="thumb-img" data-index="6" src="../images/small/6-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="7" >
                        <img class="thumb-img" data-index="7" src="../images/small/7-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="8" >
                        <img class="thumb-img" data-index="8" src="../images/small/8-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="9" >
                        <img class="thumb-img" data-index="9" src="../images/small/9-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="10">
                        <img class="thumb-img" data-index="10" src="../images/small/10-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="11">
                        <img class="thumb-img" data-index="11" src="../images/small/11-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="12">
                        <img class="thumb-img" data-index="12" src="../images/small/12-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="13">
                        <img class="thumb-img" data-index="13" src="../images/small/13-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="14">
                        <img class="thumb-img" data-index="14" src="../images/small/14-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="15">
                        <img class="thumb-img" data-index="15" src="../images/small/15-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="16">
                        <img class="thumb-img" data-index="16" src="../images/small/16-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="17">
                        <img class="thumb-img" data-index="17" src="../images/small/17-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="18">
                        <img class="thumb-img" data-index="18" src="../images/small/18-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="19">
                        <img class="thumb-img" data-index="19" src="../images/small/19-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="20">
                        <img class="thumb-img" data-index="20" src="../images/small/20-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="21">
                        <img class="thumb-img" data-index="21" src="../images/small/21-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="22">
                        <img class="thumb-img" data-index="22" src="../images/small/22-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="23">
                        <img class="thumb-img" data-index="23" src="../images/small/23-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="24">
                        <img class="thumb-img" data-index="24" src="../images/small/24-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="25">
                        <img class="thumb-img" data-index="25" src="../images/small/25-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="26">
                        <img class="thumb-img" data-index="26" src="../images/small/26-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="27">
                        <img class="thumb-img" data-index="27" src="../images/small/27-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="28">
                        <img class="thumb-img" data-index="28" src="../images/small/28-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="29">
                        <img class="thumb-img" data-index="29" src="../images/small/29-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="30">
                        <img class="thumb-img" data-index="30" src="../images/small/30-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="31">
                        <img class="thumb-img" data-index="31" src="../images/small/31-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="32">
                        <img class="thumb-img" data-index="32" src="../images/small/32-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="33">
                        <img class="thumb-img" data-index="33" src="../images/small/33-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="34">
                        <img class="thumb-img" data-index="34" src="../images/small/34-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="35">
                        <img class="thumb-img" data-index="35" src="../images/small/35-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="36">
                        <img class="thumb-img" data-index="36" src="../images/small/36-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="37">
                        <img class="thumb-img" data-index="37" src="../images/small/37-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="38">
                        <img class="thumb-img" data-index="38" src="../images/small/38-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="39">
                        <img class="thumb-img" data-index="39" src="../images/small/39-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="40">
                        <img class="thumb-img" data-index="40" src="../images/small/40-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="41">
                        <img class="thumb-img" data-index="41" src="../images/small/41-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="42">
                        <img class="thumb-img" data-index="42" src="../images/small/42-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="43">
                        <img class="thumb-img" data-index="43" src="../images/small/43-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="44">
                        <img class="thumb-img" data-index="44" src="../images/small/44-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="45">
                        <img class="thumb-img" data-index="45" src="../images/small/45-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="46">
                        <img class="thumb-img" data-index="46" src="../images/small/46-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="47">
                        <img class="thumb-img" data-index="47" src="../images/small/47-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="48">
                        <img class="thumb-img" data-index="48" src="../images/small/48-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="49">
                        <img class="thumb-img" data-index="49" src="../images/small/49-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="50">
                        <img class="thumb-img" data-index="50" src="../images/small/50-1.bmp" alt="" title="">
                    </div>
                </div>
                <div class="thumb-wrap">
                    <div class="thumb" data-index="51">
                        <img class="thumb-img" data-index="51" src="../images/small/51-1.bmp" alt="" title="">
                    </div>
                </div>
            </div>
        </div>
        <div class="footer">
            <div class="row btns">
                <button type="button" class="btn col btn-default ok-btn">确定</button>
                <button type="button" class="btn col btn-default cancel-btn">取消</button>
            </div>
        </div>
    </div>
<script type="text/javascript">
    var Container  = window.Container;
    (function(B){

        // 拖动事件
        B.one('body').on('mousedown', function(event){
            if(event.button != 0) return;

            var target = event.target;

            if(target.hasClass('isDrag')) {
                Container && Container.startMove(event.screenX,event.screenY);
            }
        });

        //页面加载完成
        document.addEventListener('DOMContentLoaded',function(){
            Container && Container.setSize(550, 435);
            Container && Container.onDOMContentLoaded();
        });

        //关闭最小化事件
        B.one('.tool-close').on('click', function() {
            event.stopPropagation();

            Container && Container.close();
        });
        B.one('.tool-min').on('click', function() {
            Container && Container.showMinimized();
        });

        //初始化选中
        var initImg = 30;
        B.one('.thumb-wrap:nth-child('+(initImg-1)+')').one('.thumb').addClass('selected');

        //确定
        B.one('.ok-btn').on('click', function(){
            [].forEach.call(B.all('.thumb'), function(item, index){
                if(item.hasClass('selected')){
                    Container.js_setSysFace(item.dataset['index']);
                }
            });
        });

        //取消
        B.one('.cancel-btn').on('click', function(){
            Container && Container.close();
        });

        B.one('.avatarList').on('click', function(target){
            var target = event.target;

            if(target.hasClass('thumb') || target.hasClass('thumb-img')) {
                B.all('.thumb').removeClass('selected');

                if(!target.hasClass('thumb-img')){
                    target.addClass('selected');
                }else {
                    target.parentNode.addClass('selected');

                }    
            }
        });

    })(Boia);
</script>
</body>
</html>
